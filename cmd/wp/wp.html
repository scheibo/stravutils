<!doctype html>
<html lang=en>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- TODO use climacon --><link rel="icon" href="https://rvamag.com/wp-content/themes/genesis-bfg/build/images/favicons/favicon.ico?v=1.1">
  <title>Weather</title>
  <style>
    /* http://colorbrewer2.org/?type=diverging&scheme=RdYlGn&n=11 */
    .color-5 {background-color:rgba(165,0,38, 0.85)}
    .color-4 {background-color:rgba(215,48,39, 0.85)}
    .color-3 {background-color:rgba(244,109,67, 0.85)}
    .color-2 {background-color:rgba(253,174,97, 0.85)}
    .color-1 {background-color:rgba(254,224,139, 0.85)}
    .color0 {background-color:rgba(255,255,191, 0.85)}
    .color1 {background-color:rgba(217,239,139, 0.85)}
    .color2 {background-color:rgba(166,217,106, 0.85)}
    .color3 {background-color:rgba(102,189,99, 0.85)}
    .color4 {background-color:rgba(26,152,80, 0.85)}
    .color5 {background-color:rgba(0,104,55, 0.85)}

    body {
      font-family: "Roboto", "Helvetica Neue", "Helvetica", "Arial", sans-serif;
    }

    header {
      text-align: center;
    }

    h1 {
      text-transform: uppercase;
      font-weight: 900;
      margin-bottom: 0.33em;
    }

    #container {
      padding-top: 0.5em;
      margin: 0px auto;
      max-width: 800px;
    }

    #data {
      border-collapse: collapse;
      min-width: 100%;
      margin: 0px auto;
      text-align: left;
      border-spacing: 0px;
      line-height: 1.15em;

    }
    .current, .best, .date {
     text-align: right;
    }

    td, th, #attribution {
      padding: 0.33em;
    }

    th {
      border-bottom: 1px solid black;
    }

    td {
      border-top: 1px solid #CDCDCD;
    }

    a, a:hover, a:visited, a:focus, a:active  {
      text-decoration: none;
      color: inherit;
    }

    /* Mobile - Small */ 
    table { font-size: 10px; }
    h1 { font-size: 24px; }
    #attribution { font-size: 6px; }
    /* Mobile - Medium */ 
    @media(min-width: 375px) {
      table { font-size: 12px; }
      h1 { font-size: 32px; }
      #attribution { font-size: 7px; }
      #container { max-width: 400px; }
    }
    /* Mobile - Large */ 
    @media(min-width: 425px) {
      table { font-size: 13px; }
      h1 { font-size: 36px; }
      #attribution { font-size: 8px; }
      #container { max-width: 500px; }
    }
    /* Tablet */ 
    @media(min-width: 768px) {
      table { font-size: 15px; }
      h1 { font-size: 40px; }
      #attribution { font-size: 10px; }
      #container { max-width: 600px; }
    }
    /* Laptop */ 
    @media(min-width: 1024px) {
      table { font-size: 16px; }
      h1 { font-size: 44px; }
      #attribution { font-size: 11px; }
      #container { max-width: 700px; }
    }

    .current, .best {
      width: 10%;
    }

    #attribution {
      color: #878787;
    }
  </style>
</head>
<body>
  <div id="content">
    <header>
      <h1><a href="/about">Weather</a></h1> <!-- TODO write this about page -->
      <nav id="main-nav">
        <!-- TODO: make this conditional, proper links and bold correct -->
        <a id="historical" href="/">Historical</a></b> /
        <b><a id="baseline" href="/baseline">Baseline</a>
        <!-- TODO include navigation for hours -->
      </nav>
    </header>
    <div id='container'>
      <table id='data'>
        <thead>
          <tr>
            <th class="name">Name</th>
            <th class="current">Current</th>
            <th class="date">Date</th>
            <th class="best">Best</th>
          </tr>
        </thead>
        <tbody>
          {{range $f := .Forecasts}}
          <tr>
            <td class="name"><a href="https://www.strava.com/segments/{{$f.Climb.Segment.ID}}" title="{{$f.ClimbDirection}}">{{$f.Climb.Name}}</a></td>
            <td class="current color{{$f.Current.Rank}}" title="{{$f.Current.Wind}}">{{$f.Current.Score}}</td>
            <td class="date" title={{$f.Forecase.Baseline.Time}}>{{$f.Forecast.Baseline.DayTime}}</td>
            <td class="best color{{$f.Forecast.Baseline.Rank}}" title="{{$f.Forecast.BaslineWind}}">{{$f.Forecast.Baseline.Score}}</td>
          </tr>
          {{end}}
        </tbody>
      </table>
      <div id="attribution"><a href="https://darksky.net/poweredby/">Powered by Dark Sky</a></div>
      <!-- TODO include (1) google analytics (2) keyboard navigation on hour pages -->
    </div>
  </div>
</body>
</html>
